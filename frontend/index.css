@tailwind base;
@tailwind components;
@tailwind utilities;

/*
    TODO, this styling has grown in complexity quite a lot and could do with consolidating, organising into better sections, and some more comments
    
    Revisit when there's more time and tidy this up...

    Take advantage of tailwind where possible and remove redundant stuff.
*/

/* Start Background Styling */

@property --g1-x { syntax: '<percentage>'; inherits: false; initial-value: 30%; }
@property --g1-y { syntax: '<percentage>'; inherits: false; initial-value: 80%; }
@property --g2-x { syntax: '<percentage>'; inherits: false; initial-value: 110%; }
@property --g2-y { syntax: '<percentage>'; inherits: false; initial-value: -10%; }

body{
  background:#0c0242;
  padding: 20px 60px 20px 60px;
}

body::before{
  content:'';
  position:fixed;
  inset:0;
  filter:blur(120px);
  z-index:-1;
  
  --g1-x: 30%;
  --g1-y: 80%;
  --g2-x: 110%;
  --g2-y: -10%;

  background:
    radial-gradient(140% 100% at var(--g1-x) var(--g1-y),
                    #3418ff 0%, transparent 70%),
    radial-gradient(180% 120% at var(--g2-x) var(--g2-y),
                    #ff3d7b 0%, transparent 70%);

  animation: move-blobs 60s ease-in-out infinite alternate;
}

@keyframes move-blobs{
  from{
    --g1-x: 30%;   --g1-y: 80%;
    --g2-x: 110%;  --g2-y: -10%;
  }
  to{
    --g1-x: 110%;  --g1-y: -10%;
    --g2-x: -10%;  --g2-y: 110%;
  }
}

/* End Background Styling */

html,body{
  margin:0;
  font-family:system-ui,sans-serif;
  color:#fff;
}

.hero{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 40px;
  justify-content:center;
  padding-inline:1rem;
}

.hero__title{
  font-size:clamp(3rem,10vw,6.5rem);
  font-weight: 700;
  line-height:1.05;
  margin:0;
  margin: 20px 80px 0px 80px;
  text-align: center;
}

.hero__lede{
  max-width:45ch;
  font-size:1.25rem;
  line-height:1.55;
  margin:0;
  opacity:.9;
}

.stats{
  display:flex;
  flex-direction: column;
  gap:3rem;
  padding:1.25rem 2.5rem;
  border-radius:1rem;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.18);
  backdrop-filter:blur(18px);
  flex-wrap:wrap;
}

.stat{
  min-width:9rem;
}
.stat__number{
  font-size:1.85rem;
  font-weight:700;
  letter-spacing:-.015em;
}
.stat__label{
  font-size:.875rem;
  opacity:.8;
  margin-top:.25rem;
}

.hero__lede + .stats{ margin-top:.5rem; }

.row {
  display: flex;
  gap: 30px;
}

.card--left {
  text-align: right;
}

.card--right {
  margin-top: 10px; 
  margin-left: 60px;
}


#particle-canvas{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  filter:blur(2px);
}

#balls {
  display: grid;
  grid-template-columns: repeat(8, minmax(80px, 100px));
  justify-content: center;
  gap: 1.5rem;
  max-width: 820px;
}

.ball {
  width:  var(--ball-size, 100px);
  height: var(--ball-size, 100px);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--ball-colour);
  background-image:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.85) 0%, rgba(255,255,255,0) 65%),
    radial-gradient(circle at 70% 70%, rgba(0,0,0,.25) 0%, rgba(0,0,0,0) 60%);
  box-shadow: 0 6px 10px rgba(0,0,0,.25);
  overflow: hidden;
  user-select: none;
  transition: transform .2s ease;
}

.ball.hide{
  background-image:none!important;
}

.label{
  width:60%;
  height:60%;
  border-radius:50%;
  background:#f5f6f7;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:700;
  font-size:calc(var(--ball-size, 100px)*0.26);
  color:#222;
  box-shadow:inset 0 0 4px rgba(0,0,0,.15);
}
.ball.hide .label{ color:#777; }

/* Slot‑machine spin */
@keyframes slotSpin{0%{transform:translateY(-100%);}100%{transform:translateY(100%);}}
.label.spinning{
  animation:slotSpin var(--spin-duration, 50ms) linear infinite;
}
  
:root {
  --gap: 30px;
  --nav-height: 64px;
}

.heading {
  display: flex;
  justify-content: space-between;
  gap: 20px;
  align-items: center;
}

.heading .buttons {
  display: flex;
  justify-content: center;
  margin-right: 90px;
}

.buttons .button {
  padding: 7px 20px 9px 20px;
  margin: 0px 10px 0px 10px;
  font-weight: 700;
  opacity: 0.8;
  border-radius: 20px;
  color: white;
  display: inline-block;
  text-decoration: none;
}

.buttons .item:hover .button {
  opacity: 1;
  background: rgb(110 82 170);
}

.mega {
  position: fixed;
  top: calc(var(--nav-height) + var(--gap));
  left: 50%;
  transform: translate(-50%, calc(-1 * var(--gap))); /* hide upward by gap */
  border-radius: 25px;
  width: min(1100px, calc(100vw - 4rem));
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease, transform .25s ease;
  box-shadow: 0 12px 40px rgba(0,0,0,.1);
}
/* Invisible “buffer” bridging the gap so slow cursor moves keep hover */
.mega::before {
  content: "";
  position: absolute;
  top: calc(-1 * var(--gap));
  left: 0;
  width: 100%;
  height: calc(var(--gap));
}

.heading .buttons .item:hover .mega,
.mega:hover {
  opacity: 1;
  background:rgba(200,200,200,.25);
  border:1px solid rgba(255,255,255,.18);
  backdrop-filter:blur(50px);
  pointer-events: auto;
  transform: translate(-50%, 0);
}

.buttons{position:relative;z-index:20;}
#balls{position:relative;z-index:0;}

.mega-inner {
  display: grid;
  grid-template-columns: repeat(2, minmax(395px, 1fr));
  gap: 2rem;
  padding: 2.5rem 1.5rem;
}
.mega h3 {margin-bottom: .75rem; font-size: 1.25rem;}
.mega p {margin-bottom: 1rem; font-size: .95rem;}

#eight-input-component {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.field-group {
  display: grid;
  grid-template-columns: repeat(8, minmax(40px, 48px));
  justify-content: center;  
  width: 100%;
  max-width: 100%;   
  gap: 0.5rem;
}

.field-group input {
  width: 40px;
  padding: 0.5rem;
  text-align: center;
  color: black;
  border: 1px solid #d1d5db;
  border-radius: 21px;
  font-size: 1rem;
  line-height: 21px;
  box-shadow: 0 1px 2px rgba(0,0,0,.05);
  transition: box-shadow .2s, border-color .2s;
}
.field-group input:focus {
  outline: none;
  border-color: #4f46e5;
  box-shadow: 0 0 0 2px rgba(79,70,229,.4);
}

.warning {
  color: #4338ca;
  background-color: white;
  opacity: 0.8;
  padding: 20px;
  border-radius: 10px;
  font-size: .875rem;
  display: none;
}

.result-card {
  display: none;
  margin: auto;
  min-width: 400px;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 1rem;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  box-shadow: 0 1px 2px rgba(0,0,0,.05);
}
.result-card span {
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: .05em;
}

.copy-btn {
  padding: .25rem .75rem;
  border: none;
  border-radius: 10px;
  background: #4f46e5;
  color: #fff;
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: background .2s;
}
.copy-btn:hover:not(.copied) {
  background: #4338ca;
}
.copy-btn.copied {
  background: #16a34a;
}

@media (max-width: 992px) {
  .row {
    flex-direction: column-reverse;
  }
  .heading {
    flex-direction: column;
  }
  .heading > .item {
    width: 100%;
  }
  .heading .buttons {
    margin: 0px 220px 0px 220px!important;
  }
  .card--left {
    text-align: left;
  }
  .card--right {
    margin-top: 0px; 
    margin-left: 0px;   
  }
  
  .hero__lede{
    font-size:1rem;
  }
  
  .hide-on-small-screen {
    display: none;
  }
  
  :root {
    --nav-height: 140px;
  }

  .mega-inner {
    grid-template-columns: repeat(1, minmax(100px, 1fr));
  }
  
  #balls {
    display: grid;
    grid-template-columns: repeat(4, minmax(60px, 100px));
    justify-content: center;
    gap: 1.5rem;
    max-width: 820px;
  }
 
}

@media (max-width: 576px) {

  .field-group { grid-template-columns: repeat(4, minmax(48px, 48px)); }
  
  .result-card { 
    flex-direction: column; 
    min-width: 0px;
  }

}

main {
  padding: 2rem 1.25rem;
  max-width: 56rem;
  margin: 0 auto;
}

#logSection {
  max-width: 56rem;
  text-align: center;
  margin: 3rem auto 2rem;
  padding: 0 1.25rem;
}

#toggleLogs {
  display: inline-block;
  padding: 0.75rem 1.25rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: #ffffff;
  background: #1f2937BB;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: background 0.2s ease;
}
#toggleLogs:hover {
  background: #111827;
}

#logContainer {
  text-align: left;
  background: #0d1117;
  color: #c9d1d9;
  font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
  overflow-y: auto;
  margin-top: 1rem;
  border: 2px solid #1f2937;
  border-radius: 0.5rem;
  max-height: 0;
  transition: max-height 0.3s ease-in-out, padding 0.3s ease;
  padding: 0 0;
}

#logContainer.open {
  max-height: 45vh;
  padding: 1rem 0;
}

.logLine {
  padding: 2px 12px;
  white-space: pre-wrap;
}
.logLine:nth-child(odd) {
  background: rgba(255, 255, 255, 0.04);
}
